# Linux内核模块
模块是一种向Linux添加设备 `驱动程序` 、 `文件系统` 以及 `其他组件` 的有效方法，而无需连编新内核或重启系统。

添加和移除模块涉及几个系统调用，通常使用modutils工具包调用。

添加模块有两种方法：

* modprob： 考虑到各个模块之间可能出现的依赖性，内核最后也会调用insmod。
* insmod： 加载单一模块到内核中.

内核模块是可重定位的（relocatable），可以通过ld.so链接进去。目前只需要一个系统调用init_module就可以完成所有操作（delete_module删除）：模块代码首先被复制到内存中，接下来是重定位工作和解决模块中未定义的引用。

如果模块江湖以来，那么向内核添加模块的顺序很重要。

depmod工具可以用于计算各个模块的依赖关系。
modinfo尅用于查询模块信息。内核模块在elf文件中引入一个。modinfo段。

request_module可以让内核在没有用户介入情况下自动加载代码。

